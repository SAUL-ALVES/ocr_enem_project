:root {
  --cor-primaria: #0052a3;
  --cor-primaria-hover: #003d7a;
  --cor-sucesso: #28a745;
  --cor-fundo: #f0f2f5;
  --cor-texto: #333;
  --cor-texto-claro: #666;
  --cor-borda: #e0e0e0;
  --sombra-card: 0 15px 45px rgba(0, 82, 163, 0.15);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Poppins', sans-serif;
  background-color: var(--cor-fundo);
  color: var(--cor-texto);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
}

/* --- ESTRUTURA PRINCIPAL --- */
.app-panel {
  display: grid;
  grid-template-columns: 320px 1fr 340px;
  width: 100%;
  max-width: 1400px;
  height: 800px;
  max-height: 90vh;
  background-color: #fff;
  border-radius: 24px;
  box-shadow: var(--sombra-card);
  overflow: hidden;
  animation: popIn 0.5s ease-out forwards;
}

@keyframes popIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

/* --- BARRA LATERAL (SIDEBAR) --- */
.sidebar {
  background-color: #fcfdff;
  padding: 25px;
  border-right: 1px solid var(--cor-borda);
  display: flex;
  flex-direction: column;
}
.sidebar-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding-bottom: 20px;
  margin-bottom: 20px;
  border-bottom: 1px solid var(--cor-borda);
  flex-shrink: 0;
}
.sidebar-title {
  font-size: 1.8em;
  font-weight: 600;
  color: var(--cor-primaria);
}
.search-area {
  flex-shrink: 0;
}
.search-area h3 {
  font-size: 1em;
  color: var(--cor-texto);
  margin-bottom: 10px;
  font-weight: 600;
}
.search-container {
  position: relative;
  margin-bottom: 20px;
}
.search-input {
  width: 100%;
  padding: 12px 40px 12px 15px;
  font-size: 0.95em;
  border: 1px solid var(--cor-borda);
  border-radius: 8px;
  background-color: #fff;
  color: var(--cor-texto);
}
.search-input:focus {
  outline: none;
  border-color: var(--cor-primaria);
  box-shadow: 0 0 0 2px rgba(0, 82, 163, 0.2);
}
.calendar-icon {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  color: var(--cor-texto-claro);
  width: 22px;
  height: 22px;
}
.history-list {
  list-style: none;
  flex-grow: 1;
  overflow-y: auto;
  padding-right: 5px;
}
.history-item {
  padding: 15px;
  margin-bottom: 10px;
  border-radius: 8px;
  border: 1px solid var(--cor-borda);
  background-color: #fff;
}
.history-item-date { font-weight: 600; color: var(--cor-primaria); }
.history-item-score { color: var(--cor-texto-claro); margin-top: 5px; }
.no-history { text-align: center; margin-top: 20px; color: var(--cor-texto-claro); }
.sidebar-footer {
  margin-top: auto;
  padding-top: 15px;
  border-top: 1px solid var(--cor-borda);
  display: flex;
  justify-content: flex-end;
}
.clear-button {
  background: none;
  border: 1px solid #ff4d4d;
  color: #ff4d4d;
  padding: 8px 15px;
  font-size: 0.9em;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
}
.clear-button:hover {
  background-color: #ff4d4d;
  color: white;
}

/* --- CONTEÚDO PRINCIPAL --- */
.main-content {
  display: flex;
  flex-direction: column;
  padding: 40px 60px;
  background-color: #fff;
}
.decorative-panel {
  background: linear-gradient(rgba(2, 27, 78, 0.85), rgba(2, 27, 78, 0.85)), url('https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?q=80&w=1973&auto-format&fit=crop') center/cover;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: white;
  text-align: center;
  
  /* Mantém o conteúdo centralizado verticalmente */
  justify-content: center;
  padding: 40px;
}
/* Título no painel decorativo */
.decorative-panel .system-name {
  font-size: 2.2em; 
  margin-bottom: 15px;
  line-height: 1.2;
}
.container {
  text-align: center;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; 
  align-items: center;
  height: 100%;
  padding-top: 50px; 
}
.container-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 40px; 
}
.app-logo {
  width: 90px;
  height: auto;
  margin-bottom: 20px;
}
.container-header h1 {
  font-size: 2.5em;
  margin: 0;
  color: var(--cor-primaria);
}
.container-header p {
  font-size: 1.1em;
  margin: 5px 0 0 0;
  color: var(--cor-texto-claro);
}
.form-options {
  display: flex;
  align-items: flex-end; 
  justify-content: center;
  gap: 20px; 
  margin-bottom: 35px;
}
.option-group label {
  display: block;
  font-size: 1em;
  font-weight: 500;
  color: var(--cor-texto);
  margin-bottom: 12px;
  text-align: center;
}
.day-selector {
  display: flex;
  gap: 10px;
}
.day-btn {
  border: 1px solid var(--cor-borda);
  border-radius: 8px;
  background-color: #fff;
  cursor: pointer;
  font-family: 'Poppins', sans-serif;
  font-size: 1em;
  transition: background-color 0.2s, color 0.2s, border-color 0.2s;
  color: var(--cor-texto);
  text-align: center;
  width: 100px;
  height: 48px;
  padding: 12px 0;
}
.day-btn:hover,
.day-btn.active {
  background-color: var(--cor-primaria);
  color: white;
  border-color: var(--cor-primaria);
}
.year-picker-input.day-btn {
  background-color: var(--cor-primaria);
  color: white;
  border: 1px solid var(--cor-primaria);
  transition: background-color 0.2s;
}
.year-picker-input.day-btn:hover {
  background-color: var(--cor-primaria-hover);
}
.upload-and-submit {
  display: flex;
  align-items: center;
  gap: 20px;
}
.upload-area-compact {
  border: 2px dashed var(--cor-borda);
  border-radius: 12px;
  padding: 20px;
  transition: border-color 0.3s, background-color 0.3s;
  cursor: pointer;
  width: 235px; 
  height: 140px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.upload-area-compact.drag-over { 
  border-color: var(--cor-primaria); 
  background-color: #f0f5ff; 
}
.upload-area-compact svg { 
  width: 30px; 
  height: 30px; 
  color: var(--cor-primaria); 
  margin-bottom: 10px; 
}
#gabarito-file { display: none; }
#file-name { 
  font-size: 1em; 
  color: var(--cor-texto-claro); 
  word-break: break-all;
  padding: 0 5px;
}
#correct-button { 
  background-color: var(--cor-primaria); 
  color: white; 
  border: none; 
  font-size: 1em; 
  font-weight: 600; 
  border-radius: 8px; 
  cursor: pointer; 
  transition: background-color 0.3s, transform 0.2s; 
  padding: 14px 35px;
  height: auto; 
  align-self: center;
}
#correct-button:hover { background-color: var(--cor-primaria-hover); transform: translateY(-2px); }
#correct-button:disabled { background-color: #ccc; cursor: not-allowed; transform: none; }

/* --- ESTILOS DO CALENDÁRIO (react-datepicker) --- */
.react-datepicker-wrapper { width: auto; }
.react-datepicker-popper { z-index: 2; }
.react-datepicker { font-family: 'Poppins', sans-serif; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border: 1px solid var(--cor-borda); }
.react-datepicker__header { background-color: var(--cor-primaria); border-bottom: none; border-top-left-radius: 8px; border-top-right-radius: 8px; }
.react-datepicker__current-month, .react-datepicker-time__header, .react-datepicker__day-name { color: white; font-weight: 500; }
.react-datepicker__navigation-icon::before { border-color: white; }
.react-datepicker__day--selected { background-color: var(--cor-primaria); color: white; border-radius: 50%; }
.react-datepicker__day:hover { border-radius: 50%; }
.react-datepicker__year-wrapper { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.react-datepicker__year-text { padding: 5px 10px; text-align: center; cursor: pointer; }
.react-datepicker__year-text:hover { background-color: #f0f0f0; border-radius: 4px; }
.react-datepicker__year-text--selected { background-color: var(--cor-primaria); color: white; border-radius: 4px; }
.react-datepicker__year-text--disabled { color: #ccc; cursor: not-allowed; }
.react-datepicker__year-text--disabled:hover { background-color: transparent; }

/* --- MODAL --- */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease-out;
}
.modal-content { background-color: #fff; padding: 40px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); position: relative; width: 90%; max-width: 550px; text-align: center; animation: slideUp 0.4s ease-out; }
.close-button { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 2em; color: #aaa; cursor: pointer; transition: color 0.2s; }
.modal-content h3 { color: var(--cor-primaria); font-size: 1.8em; margin-bottom: 10px; padding: 0 30px; }
.modal-content .user-code { font-size: 1.2em; color: var(--cor-texto-claro); margin-bottom: 30px; font-family: monospace; }
.score-circle { width: 150px; height: 150px; position: relative; margin: 0 auto 30px; }
.score-circle svg { width: 100%; height: 100%; transform: rotate(-90deg); }
.score-circle .circle-bg { fill: none; stroke: #eee; stroke-width: 10; }
.score-circle .circle-progress { fill: none; stroke: var(--cor-sucesso); stroke-width: 10; stroke-linecap: round; transition: stroke-dashoffset 1s ease-out; }
.score-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2em; font-weight: 700; color: var(--cor-sucesso); }
.score-details { font-size: 1.1em; color: var(--cor-texto-claro); }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }